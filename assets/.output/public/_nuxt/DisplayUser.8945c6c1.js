import{a as h}from"./axios.a28fc0ff.js";import{a as n,b as e,t as l,F as m,h as v,w as _,v as g,i as b,j as p,o as c,p as x,f as y}from"./entry.e6ba869e.js";import{_ as D}from"./_plugin-vue_export-helper.a1a6add7.js";const k={data(){return{resDataSuccess:[],editModalData:null,deleteModalData:null,show:!1,json:{},data:{},lang:"en"}},mounted(){this.displayUser(),this.json=JSON.parse(localStorage.getItem("data")),this.lang=localStorage.getItem("lang"),this.data=this.json[this.lang]},methods:{async displayUser(){try{const s=await h.post("/api/CreateUser_Api/GetUser");console.log(s),this.resDataSuccess=s.data}catch(s){console.log(s)}},openEditModal(s){this.editModalData={id:s.id,username:s.Username,password:s.newPassword},this.show=!this.show},closeEditModal(){this.editModalData=null},async updateUser(){try{const{id:s,username:d,password:r}=this.editModalData,w=await h.put("/api/CreateUser_Api/Update_User",{id:s,Username:d,Password:r});this.closeEditModal(),this.displayUser(),setTimeout(()=>{alert("Data updated successfully")},100)}catch(s){console.log(s)}},openDeleteModal(s){this.deleteModalData={id:s.id}},closeDeleteModal(){this.deleteModalData=null},async deleteUser(){try{const{id:s}=this.deleteModalData,d=await $fetch("/api/CreateUser_Api/Delete_User",{method:"DELETE",body:{id:s}});if(d){const r=await d;this.closeDeleteModal(),this.displayUser(),setTimeout(()=>{alert("Deleted successfully")},100)}else throw new Error("Failed to delete user")}catch(s){console.log(s)}}}},a=s=>(x("data-v-5e754b5e"),s=s(),y(),s),M=a(()=>e("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css",integrity:"sha384-... ",crossorigin:"anonymous"},null,-1)),U={class:"table-container bg-white text-black"},C={class:"w-full flex flex-col"},E={class:"py-6 flex w-full text-center font-semibold text-lg border-b-2"},S={class:"w-2/12 md:w-1/12 border-r border-gray-400"},j={class:"w-2/12 md:w-1/12 border-r border-gray-400"},I={class:"w-4/12"},T={class:"w-4/12 border-l border-gray-400"},V={class:"w-2/12 border-l border-gray-400 md:block hidden"},A={class:"flex w-full"},B={class:"w-2/12 md:w-1/12"},F={class:"w-2/12 md:w-1/12"},N={class:"w-4/12"},P={class:"w-4/12"},L={class:"w-2/12 md:flex hidden justify-around"},G=["onClick"],J=a(()=>e("i",{class:"fas fa-edit"},null,-1)),O=[J],R=["onClick"],q=a(()=>e("i",{class:"fa fa-trash"},null,-1)),z=[q],H={class:"md:hidden flex w-full"},K=a(()=>e("div",{class:"w-2/12"},null,-1)),Q=a(()=>e("div",{class:"w-2/12"},null,-1)),W={class:"w-4/12"},X={class:"flex justify-between"},Y=a(()=>e("div",null,null,-1)),Z=["title","onClick"],$=a(()=>e("i",{class:"fas fa-edit"},null,-1)),ee=[$],se={class:"w-4/12"},te={class:"flex justify-around"},oe=["title","onClick"],le=a(()=>e("i",{class:"fa fa-trash"},null,-1)),de=[le],ae=a(()=>e("div",null,null,-1)),ie={key:0,class:"modal1"},ne={class:"modal-box"},ce={class:"font-bold text-lg mb-2"},re={class:"sm:col-span-4"},ue={for:"username",class:"block text-left text-sm font-medium leading-6 text-gray-900"},_e={class:"mt-2"},he={class:"flex rounded-md shadow-sm ring-1 ring-black focus-within:ring-2 focus-within:ring-black sm:max-w-md"},me={class:"sm:col-span-4"},be={for:"password",class:"block text-left text-sm font-medium leading-6 text-gray-900 mt-5"},pe={class:"mt-2"},we={class:"flex rounded-md shadow-sm ring-1 ring-black focus-within:ring-2 focus-within:ring-black sm:max-w-md"},fe={class:"modal-action"},ve={key:0,class:"modal1"},ge={class:"modal-box"},xe={class:"font-bold text-lg mb-2"},ye={class:"modal-action"};function De(s,d,r,w,t,i){return c(),n(m,null,[M,e("div",U,[e("div",C,[e("div",E,[e("div",S,l(t.data.sr),1),e("div",j,l(t.data.role),1),e("div",I,l(t.data.username),1),e("div",T,l(t.data.password),1),e("div",V,l(t.data.actions),1)]),(c(!0),n(m,null,v(t.resDataSuccess,(o,f)=>(c(),n("div",{key:o.id,class:"w-full text-center flex flex-col space-y-8 md:border-b-0 border-b border-gray-400 py-8"},[e("div",A,[e("div",B,l(f+1),1),e("div",F,l(o.Role),1),e("div",N,l(o.Username),1),e("div",P,l(o.newPassword),1),e("div",L,[e("div",null,[e("button",{class:"bg-blue-500 hover:bg-blue-600 rounded-md btn-sm text-white",title:"edit",onClick:u=>i.openEditModal(o)},O,8,G)]),e("div",null,[e("button",{class:"bg-blue-500 hover:bg-blue-600 btn-sm rounded-md text-white",title:"delete",onClick:u=>i.openDeleteModal(o)},z,8,R)])])]),e("div",H,[K,Q,e("div",W,[e("div",X,[Y,e("div",null,[e("button",{class:"bg-blue-500 hover:bg-blue-600 shadow-error rounded-md btn-md text-white",title:o.edit,onClick:u=>i.openEditModal(o)},ee,8,Z)])])]),e("div",se,[e("div",te,[e("button",{class:"bg-blue-500 hover:bg-blue-600 btn-md rounded-md text-white",title:o.delete,onClick:u=>i.openDeleteModal(o)},de,8,oe),ae])])])]))),128))]),_(e("div",null,[t.editModalData?(c(),n("div",ie,[e("div",ne,[e("h3",ce,l(t.data.edit),1),e("div",re,[e("label",ue,l(t.data.username),1),e("div",_e,[e("div",he,[_(e("input",{type:"text",name:"username",id:"username",class:"appearance-none rounded-md w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black","onUpdate:modelValue":d[0]||(d[0]=o=>t.editModalData.username=o)},null,512),[[b,t.editModalData.username]])])])]),e("div",me,[e("label",be,l(t.data.password),1),e("div",pe,[e("div",we,[_(e("input",{type:"text",name:"username",id:"username",class:"appearance-none rounded-md w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black","onUpdate:modelValue":d[1]||(d[1]=o=>t.editModalData.password=o)},null,512),[[b,t.editModalData.password]])])])]),e("div",fe,[e("button",{class:"btn",onClick:d[2]||(d[2]=o=>i.updateUser())},l(t.data.update),1),e("button",{class:"btn",onClick:d[3]||(d[3]=o=>i.closeEditModal())},l(t.data.close),1)])])])):p("",!0)],512),[[g,t.show]]),t.deleteModalData?(c(),n("div",ve,[e("div",ge,[e("h3",xe,l(t.data.deletemsg),1),e("h1",null,l(t.data.alert11),1),e("div",ye,[e("button",{class:"btn",onClick:d[4]||(d[4]=o=>i.deleteUser())},l(t.data.delete),1),e("button",{class:"btn",onClick:d[5]||(d[5]=o=>i.closeDeleteModal())},l(t.data.close),1)])])])):p("",!0)])],64)}const Ce=D(k,[["render",De],["__scopeId","data-v-5e754b5e"]]);export{Ce as default};
